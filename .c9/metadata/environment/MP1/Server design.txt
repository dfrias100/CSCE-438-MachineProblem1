{"filter":false,"title":"Server design.txt","tooltip":"/MP1/Server design.txt","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":28,"column":1},"action":"insert","lines":["Server program:","Set up data structures","\tvector of clients","\tvector of chatrooms","Set up sockets","Set up FDSets","\tcmd fdset","\tvector of fdsets","","Loop forever","\tselect cmd fd","\tfor all cmd fds","\t\thandle new connections","\t\thandle commands","\t\t\tif creating a new chat room, create a new one on the main port","\t\t\tif one is already on the main port, create one on the derived port","\tfor all chats","\t\tselect chat fd","\t\tfor all chat fds","\t\t\thandle new connections","\t\t\t\tadd to clients and increment the member variable","\t\t\thandle chat messages","\t\t\t\tif we got nothing, close the connection, remove the client","\t\t\t\tif we get a new chat, send it to all the clients","\t\t\t","\t\t\t","\t\t"," ","\t"],"id":4}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":28,"column":1},"end":{"row":28,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":110,"mode":"ace/mode/text"}},"timestamp":1643541364419,"hash":"ba99d02dacc7cc26f7759ee1d68994a8b51e9461"}